/*!
* Copyright 2014 linkFLy - http://www.cnblogs.com/silin6/
* Released under the MIT license
* http://opensource.org/licenses/mit-license.php
* Date: 2014-8-24 20:17:18
*/
;(function(f,c){var g=Array.prototype.push,d=Array.prototype.splice,i=Array.prototype.indexOf,n=Array.prototype.slice,l=Object.prototype.toString,h=f.document,k=Array.prototype.forEach,o={},e=function(p){return p==null?l(p):o[l.call(p)]||"object"},b=function(p){return e(p)==="function"},j=function(r){if(r==null){return false}var q=r.length,p=e(r);if(r==r.window){return true}if(r.nodeType===1&&q){return true}return p==="array"||p!=="function"&&(q===0||typeof q==="number"&&q>0&&(q-1) in r)},m=function(p){return e(p)==="string"&&p!=null&&(p.indexOf("/")!==-1||p.indexOf("[")!==-1||p.indexOf("@")!==-1)};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(function(p){o["[object "+p+"]"]=p.toLowerCase()});var a=function(t,p){var v=h,w=function(y){g.call(x,y);x.list.push(a(v,y))};if(t&&t.constructor===a){return t}if(e(t)==="string"){try{v=(new DOMParser()).parseFromString(t,"text/xml")}catch(u){}}else{if(t.nodeType===9&&t.documentElement){v=t}}var x={version:"linkFLy.X.1.0",constructor:a,document:v,length:0,list:[],documentElement:v.documentElement,find:function(z,y){return a(y=y||v,z)},text:function(y){if(!arguments.length&&y==c){var z=x[0];return(z&&z.firstChild&&z.firstChild.nodeValue)||""}if(x.length){k.call(x,function(A){A.firstChild.nodeValue=y})}return x},attr:function(y,z){if(arguments.length===2){z=z==c?"":z;if(x.length){k.call(x,function(B){B.setAttribute(y,z)})}return x}var A=x[0];return A&&A.getAttribute&&A.getAttribute(y)||""}};if(p){if(p.nodeType===1){x.list.push(p);p=null}else{if(b(p)){p=p.call(v)}else{if(m(p)){var q=new XPathEvaluator(),r,s;s=q.evaluate(p,x.documentElement,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null);while(r=s.iterateNext()){w(r)}p=null}else{p=x.document.getElementsByTagName(p+"")}}}if(j(p)){k.call(p,function(y){w(y)})}}[["eq",function(y){return this.list[y[0]]}],["slice",function(y){return a(v,n.call(this.list,y[0]||0,y[1]||this.list.length-1))}],["splice",function(z){var y=[z[0]||0,z[1]||0].concat(n.call(z,2));return a(v,d.apply(this.list,y))}]].forEach(function(y){x[y[0]]=function(){if(!x.length){return a(v)}return y[1].call(x,arguments)}});return x};f.X=a}(window));